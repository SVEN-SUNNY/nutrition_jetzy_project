<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriJet - AI Nutrition Planner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #2ECC71;
            --secondary: #27AE60;
            --dark: #2C3E50;
            --light: #ECF0F1;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
        }

        body {
            background: var(--light);
            color: var(--dark);
        }

        .hero {
            background: linear-gradient(rgba(44,62,80,0.9), rgba(44,62,80,0.9)),
                        url('https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            padding: 4rem 2rem;
            text-align: center;
            color: white;
        }

        .plan-form {
            max-width: 600px;
            margin: 2rem auto;
            background: rgba(255,255,255,0.9);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .select-wrapper {
            position: relative;
        }

        select {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--primary);
            border-radius: 8px;
            background: white;
            appearance: none;
            font-size: 1rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            padding: 4rem 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .result-card {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .meal-card {
            background: var(--light);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
        }

        @media (max-width: 768px) {
            .hero {
                padding: 2rem 1rem;
            }
            
            .plan-form {
                margin: 1rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="hero">
        <h1>AI-Powered Nutrition Planning</h1>
        <p>Get your personalized meal plan in seconds</p>
        
        <div class="plan-form">
            <form id="nutritionForm">
                <div class="form-group">
                    <label>Dietary Preferences</label>
                    <div class="select-wrapper">
                        <select id="diet" multiple required>
                            <option value="vegetarian">Vegetarian</option>
                            <option value="vegan">Vegan</option>
                            <option value="high-protein">High Protein</option>
                            <option value="low-carb">Low Carb</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Health Goals</label>
                    <div class="select-wrapper">
                        <select id="goal" required>
                            <option value="weight-loss">Weight Loss</option>
                            <option value="muscle-gain">Muscle Gain</option>
                            <option value="general-health">General Health</option>
                        </select>
                    </div>
                </div>

                <button class="cta-button" type="submit">
                    Generate My Plan <i class="fas fa-arrow-right"></i>
                </button>
            </form>
        </div>
    </header>

    <section class="features">
        <div class="feature-card">
            <i class="fas fa-brain fa-3x"></i>
            <h3>AI-Powered Recommendations</h3>
            <p>Machine learning algorithms tailored to your unique profile</p>
        </div>
        
        <div class="feature-card">
            <i class="fas fa-chart-line fa-3x"></i>
            <h3>Progress Tracking</h3>
            <p>Monitor your macros and calorie intake</p>
        </div>
    </section>

    <div id="resultSection" class="hidden">
        <div class="result-card">
            <h2>Your Personalized Plan</h2>
            <div class="meal-card">
                <h3>Breakfast</h3>
                <p id="breakfastMeal">Oatmeal with berries</p>
                <div class="macros">
                    <span class="calories">300 kcal</span>
                    <span class="protein">15g protein</span>
                </div>
            </div>
            <!-- Add more meal cards -->
        </div>
    </div>

    <script>
        document.getElementById('nutritionForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = {
                diet: Array.from(document.querySelectorAll('#diet option:checked'))
                          .map(option => option.value),
                goal: document.getElementById('goal').value
            };

            try {
                const response = await fetch('/plan', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                const plan = await response.json();
                displayPlan(plan);
            } catch (error) {
                showError('Failed to generate plan. Please try again.');
            }
        });

        function displayPlan(plan) {
            document.getElementById('resultSection').classList.remove('hidden');
            document.getElementById('breakfastMeal').textContent = plan.meals.breakfast;
            // Update other meal elements
        }

        function showError(message) {
            const errorEl = document.createElement('div');
            errorEl.className = 'error-message';
            errorEl.textContent = message;
            document.body.appendChild(errorEl);
            
            setTimeout(() => errorEl.remove(), 3000);
        }
    </script>
</body>
</html>
